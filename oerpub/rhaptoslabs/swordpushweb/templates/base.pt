<metal:main define-macro="main">
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" xmlns:tal="http://xml.zope.org/namespaces/tal">
    <head>
        <title>
        <metal:page_title define-slot="page_title">
            Connexions Document Importer
        </metal:page_title>
        </title>

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

        <script src="${request.static_url('oerpub.rhaptoslabs.swordpushweb:static/jquery-1.6.4.min.js')}"></script>
        <script src="${request.static_url('oerpub.rhaptoslabs.swordpushweb:static/jquery.simplemodal.1.4.1.min.js')}"></script>
        <script src="http://www.google.com/jsapi"></script>
        <script src="${request.static_url('oerpub.rhaptoslabs.swordpushweb:static/swordpush-max-01.js')}"></script>

        <link rel="stylesheet" href="${request.static_url('oerpub.rhaptoslabs.swordpushweb:static/main-max-01.css')}" type="text/css" media="screen" charset="utf-8" />
        <!--[if IE 6]>
        <link rel="stylesheet" href="${request.static_url('oerpub.rhaptoslabs.swordpushweb:static/ie6.css')}" type="text/css" media="screen" charset="utf-8" />
        <![endif]-->

        <script type="text/javascript">

            $(document).ready(function(){
                /* Moved this portion back directly into the file because 'headerh' wasn't
                   always correctly calculated when done from the external file. 
                */

                var winh = $(window).height();
                var headerh = $("#header-container").outerHeight();
                var wfnh = $("#workflownav-wrap").outerHeight();
                var contentp = parseInt($("#content").css("paddingTop"));
                var contentp = contentp + parseInt($("#content").css("paddingBottom"));
                var phwh = $("#pageheader-wrap").outerHeight();
                var ma = $("#module-actions .advanced").outerWidth();

                // Make the iframe fit exactly inside the remaining space
                $("iframe").height(winh - headerh - wfnh - contentp - phwh + 5);
                $("iframe").width($(window).width() - 53);

                /* Give the page's header the correct top margin (since the elements above
                   it are in a fixed position)
                */
                $("#content").css({'margin-top': headerh + wfnh})
            });

        </script>

        <script>
        function check_submit() {
          passed = true;
          names = ["service_document_url", "username", "password"];
          for(idx in names) {
            name = names[idx];
            var x = document.forms["login_form"][name];
            if((x.value == null) || (x.value == "")) {
              x.style.background = '#ffce99';
              passed = false;
            } else {
              x.style.background = '#ffffff';
            }
          }
          return passed;
        }
        </script>

    </head>

    <body metal:define-slot="body">
        <metal:content define-slot="header"/>
        <metal:content define-slot="content"/>
    </body>
</html>
</metal:main>
